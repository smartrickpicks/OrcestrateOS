{
  "version": "1.4.7",
  "description": "Sidebar panel structure and navigation semantics for DataDash-style layout",
  "sidebar_structure": {
    "order": [
      "data_source_action",
      "progress_block",
      "navigation",
      "tools",
      "cache",
      "export_save"
    ],
    "sections": [
      {
        "id": "data_source_action",
        "label": "Data Source",
        "kind": "action_button",
        "position": "top",
        "interaction": "opens_loader_drawer",
        "visible_to": ["Analyst", "Reviewer", "Admin"],
        "rationale": "Primary entry point for loading datasets. Always visible at top."
      },
      {
        "id": "progress_block",
        "label": "Progress",
        "kind": "informational_block",
        "position": "below_data_source",
        "interaction": "click_routes_to_triage",
        "route": "#/triage",
        "visible_to": ["Analyst", "Reviewer", "Admin"],
        "contains": {
          "stats": ["To Do", "Review", "Done"],
          "progress_bar": true
        },
        "rationale": "Summarizes work queue status. Clicking routes to Triage for detailed view."
      },
      {
        "id": "navigation",
        "label": "Navigation",
        "kind": "nav_section",
        "contains": [
          {
            "id": "sheet_selector",
            "label": "Sheet Selector",
            "kind": "dropdown",
            "interaction": "filters_grid_by_sheet",
            "visible_to": ["Analyst", "Reviewer", "Admin"]
          },
          {
            "id": "triage",
            "label": "Triage",
            "kind": "nav_item",
            "route": "#/triage",
            "visible_to": ["Analyst", "Reviewer", "Admin"],
            "rationale": "Alert summary and prioritization lens."
          },
          {
            "id": "all_data_grid",
            "label": "All Data Grid",
            "kind": "nav_item",
            "route": "#/grid",
            "visible_to": ["Analyst", "Reviewer", "Admin"]
          },
          {
            "id": "record_inspection",
            "label": "Record Inspection",
            "canonical_name": "single_row_review",
            "kind": "nav_item",
            "route": "#/row/:id",
            "interaction": "opens_first_row_or_prompts",
            "visible_to": ["Analyst", "Reviewer", "Admin"],
            "rationale": "UI alias for Single Row Review. Opens drawer for selected/first row."
          },
          {
            "id": "verifier_review",
            "label": "Verifier Review",
            "kind": "nav_item",
            "route": "#/verifier-review",
            "visible_to": ["Reviewer", "Admin"],
            "rationale": "Verifier gate actions. Role-gated."
          }
        ]
      },
      {
        "id": "tools",
        "label": "Tools",
        "kind": "nav_section",
        "contains": [
          {
            "id": "patch_studio",
            "label": "Patch Studio",
            "route": "#/patch",
            "visible_to": ["Analyst", "Reviewer", "Admin"]
          },
          {
            "id": "evidence_status",
            "label": "Evidence Status",
            "interaction": "opens_status_modal",
            "visible_to": ["Analyst", "Reviewer", "Admin"]
          },
          {
            "id": "config_inspector",
            "label": "Config Inspector",
            "route": "#/review",
            "visible_to": ["Reviewer", "Admin"]
          },
          {
            "id": "admin_approval",
            "label": "Admin Approval",
            "route": "#/admin-approval",
            "visible_to": ["Admin"]
          },
          {
            "id": "governance",
            "label": "Governance",
            "route": "#/admin",
            "visible_to": ["Admin"]
          },
          {
            "id": "config_flows",
            "label": "Config Flows",
            "interaction": "opens_config_flows_modal",
            "visible_to": ["Admin"]
          }
        ]
      },
      {
        "id": "cache",
        "label": "Cache",
        "kind": "info_section",
        "contains": {
          "cached_pdfs_count": "stub",
          "storage_used": "stub",
          "clear_action": "clears_pdf_cache_shows_toast"
        },
        "visible_to": ["Analyst", "Reviewer", "Admin"],
        "rationale": "Displays cached PDF attachments. Clear action removes from localStorage."
      },
      {
        "id": "export_save",
        "label": "Export / Save",
        "kind": "action_button",
        "position": "bottom",
        "interaction": "stub_coming_soon_toast",
        "visible_to": ["Analyst", "Reviewer", "Admin"],
        "rationale": "Future export functionality. Currently shows coming soon toast."
      }
    ]
  },
  "navigation_semantics": {
    "progress_block": {
      "default": "informational_summary",
      "click_action": "routes_to_triage",
      "stats_source": "queue_counts",
      "never": ["imply_resolution", "auto_fix"]
    },
    "record_inspection": {
      "canonical_id": "single_row_review",
      "ui_label": "Record Inspection",
      "behavior": "opens_row_drawer_for_selected_or_first_row",
      "fallback_if_no_data": "prompts_to_load_or_select"
    },
    "sheet_selector": {
      "default_value": "All Sheets",
      "populated_from": "workbook.sheets",
      "interaction": "filters_grid_state"
    }
  },
  "role_visibility": {
    "Analyst": ["data_source_action", "progress_block", "navigation", "tools.patch_studio", "tools.evidence_status", "cache", "export_save"],
    "Reviewer": ["data_source_action", "progress_block", "navigation", "tools.*", "cache", "export_save"],
    "Admin": ["*"]
  }
}
